---
import Layout from '../../../layouts/Layout.astro';
import LibCrud from '../../../lib/LibCrud';
import type { Post } from '../index.astro';

//
const { id } = Astro.params;
console.log(id);
let item: any = await LibCrud.get(Number(id));
console.log(item);
---
<!-- -->
<style>
</style>

<!-- MarkUp -->
<Layout title="Welcome to Astro.">
	<main class="container">
		<a class="btn btn-outline-primary" href={`/gpt`}>Back</a>
		<hr />		
		<h1>CrudEdit</h1>
		<p>Id:{id}</p>
		<hr />
		<div class="col-sm-6">
			<input type="hidden" value={id} id="item_id" />
			<input type="hidden" value={item.completed} id="item_completed" />
			<div>
				<label for="title">タイトル</label>
				<input type="text" id="title" name="title" required 
				value={item.title}>
			</div>
			<div>
				<label for="content">内容</label>
				<textarea id="content" name="content" required
				>{item.content}</textarea>
			</div>
			<div>
				<label for="priority">優先度</label>
				<select id="priority" name="priority" required>
					<option value="1">高</option>
					<option value="2">中</option>
					<option value="3">低</option>
				</select>
			</div>
			<!--
			<div>
				<label for="category_id">カテゴリーID</label>
				<input type="number" id="category_id" name="category_id" required
				value={item.category_id}>
			</div>
			-->
			<div>
			<label for="completed">完了フラグ</label>
				<input type="checkbox" id="completed" name="completed" value="1">
			</div>
			<div>
				<label for="tag_1">タグ1</label>
				<input type="text" id="tag_1" name="tag_1" value={item.tag_1} >
			</div>
			<div>
				<label for="tag_2">タグ2</label>
				<input type="text" id="tag_2" name="tag_2" value={item.tag_2}>
			</div>
			<div>
				<label for="tag_3">タグ3</label>
				<input type="text" id="tag_3" name="tag_3" value={item.tag_3}>
			</div>
			<div>
				<label for="tag_4">タグ4</label>
				<input type="text" id="tag_4" name="tag_4" value={item.tag_4}>
			</div>
			<div>
				<label for="tag_5">タグ5</label>
				<input type="text" id="tag_5" name="tag_5" value={item.tag_5}>
			</div>
			<hr />			
			<button id="btn_save" class="btn btn-primary">Save</button>
		</div>
	</main>
</Layout>
<!-- -->
<script src="../CrudEdit.ts"></script>

<!--
			<input type="text" name="title" id="title" class="form-control"
			 value={item.title}
			/><br />	
 -->